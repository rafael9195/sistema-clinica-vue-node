{"ast":null,"code":"import api from '@/services/api';\n\n// Adicionando o token no header do Axios (melhor lugar é no main.js, mas aqui funciona rápido)\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nexport default {\n  data() {\n    return {\n      form: {\n        data: '',\n        descricao: '',\n        cep: ''\n      }\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        await api.post('/appointments', this.form);\n        alert('Agendamento criado com sucesso!');\n        this.$emit('new-appointment'); // Avisa o componente \"pai\" que um novo agendamento foi criado\n        this.form = {\n          data: '',\n          descricao: '',\n          cep: ''\n        }; // Limpa o formulário\n      } catch (error) {\n        alert('Erro: ' + error.response.data.error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","data","form","descricao","cep","methods","handleSubmit","post","alert","$emit","error","response"],"sources":["C:\\Users\\rafae\\OneDrive\\Desktop\\clinica-inteligente\\frontend\\src\\components\\AppointmentForm.vue"],"sourcesContent":["<template>\r\n    <form @submit.prevent=\"handleSubmit\" class=\"appointment-form\">\r\n        <h3>Novo Agendamento</h3>\r\n        <input type=\"date\" v-model=\"form.data\" required>\r\n        <input type=\"text\" v-model=\"form.descricao\" placeholder=\"Descrição (ex: Retorno, Exames)\" required>\r\n        <input type=\"text\" v-model=\"form.cep\" placeholder=\"CEP\" required maxlength=\"8\">\r\n        <button type=\"submit\">Agendar</button>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api';\r\n\r\n// Adicionando o token no header do Axios (melhor lugar é no main.js, mas aqui funciona rápido)\r\napi.interceptors.request.use(config => {\r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            form: { data: '', descricao: '', cep: '' }\r\n        }\r\n    },\r\n    methods: {\r\n        async handleSubmit() {\r\n            try {\r\n                await api.post('/appointments', this.form);\r\n                alert('Agendamento criado com sucesso!');\r\n                this.$emit('new-appointment'); // Avisa o componente \"pai\" que um novo agendamento foi criado\r\n                this.form = { data: '', descricao: '', cep: '' }; // Limpa o formulário\r\n            } catch(error) {\r\n                alert('Erro: ' + error.response.data.error);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.appointment-form {\r\n    background: #f9f9f9;\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    margin-bottom: 30px;\r\n}\r\n</style>"],"mappings":"AAWA,OAAOA,GAAE,MAAO,gBAAgB;;AAEhC;AACAA,GAAG,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAK,IAAK;EACnC,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACI,OAAO,CAACC,aAAY,GAAI,UAAUJ,KAAK,EAAE;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,CAAC;AAGF,eAAe;EACXM,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QAAED,IAAI,EAAE,EAAE;QAAEE,SAAS,EAAE,EAAE;QAAEC,GAAG,EAAE;MAAG;IAC7C;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,YAAYA,CAAA,EAAG;MACjB,IAAI;QACA,MAAMf,GAAG,CAACgB,IAAI,CAAC,eAAe,EAAE,IAAI,CAACL,IAAI,CAAC;QAC1CM,KAAK,CAAC,iCAAiC,CAAC;QACxC,IAAI,CAACC,KAAK,CAAC,iBAAiB,CAAC,EAAE;QAC/B,IAAI,CAACP,IAAG,GAAI;UAAED,IAAI,EAAE,EAAE;UAAEE,SAAS,EAAE,EAAE;UAAEC,GAAG,EAAE;QAAG,CAAC,EAAE;MACtD,EAAE,OAAMM,KAAK,EAAE;QACXF,KAAK,CAAC,QAAO,GAAIE,KAAK,CAACC,QAAQ,CAACV,IAAI,CAACS,KAAK,CAAC;MAC/C;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}