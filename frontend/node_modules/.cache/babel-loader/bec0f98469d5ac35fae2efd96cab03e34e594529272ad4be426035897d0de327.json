{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api from '@/services/api';\nimport AppointmentForm from '@/components/AppointmentForm.vue';\nexport default {\n  components: {\n    AppointmentForm\n  },\n  data() {\n    return {\n      appointments: []\n    };\n  },\n  async created() {\n    this.fetchAppointments();\n  },\n  methods: {\n    doLogout() {\n      localStorage.removeItem('authToken');\n      this.$router.push('/login');\n    },\n    async fetchAppointments() {\n      try {\n        const response = await api.get('/appointments');\n        this.appointments = response.data;\n      } catch (error) {\n        alert('Sua sessão expirou. Por favor, faça o login novamente.');\n        this.doLogout();\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","AppointmentForm","components","data","appointments","created","fetchAppointments","methods","doLogout","localStorage","removeItem","$router","push","response","get","error","alert"],"sources":["C:\\Users\\rafae\\OneDrive\\Desktop\\clinica-inteligente\\frontend\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <header class=\"dashboard-header\">\r\n      <h1>Minha Clínica</h1>\r\n      <button @click=\"doLogout\">Sair</button>\r\n    </header>\r\n    <main class=\"dashboard-main\">\r\n      <h2>Painel de Agendamentos</h2>\r\n      \r\n      <AppointmentForm @new-appointment=\"fetchAppointments\" />\r\n\r\n      <div class=\"appointments-list\">\r\n        <h3>Meus Agendamentos</h3>\r\n        <ul v-if=\"appointments.length > 0\">\r\n          <li v-for=\"app in appointments\" :key=\"app._id\">\r\n            <div class=\"app-info\">\r\n              <strong>Data:</strong> {{ new Date(app.data).toLocaleString('pt-BR', { dateStyle: 'short', timeStyle: 'short' }) }} <br>\r\n              <strong>Descrição:</strong> {{ app.descricao }} <br>\r\n              <strong>Endereço:</strong> {{ app.enderecoCompleto }}\r\n            </div>\r\n            <div v-if=\"app.alertaDeChuva\" class=\"app-alert\">\r\n              ☔️ Alerta: Possibilidade de chuva neste dia!\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>Você ainda não tem nenhum agendamento.</p>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api';\r\nimport AppointmentForm from '@/components/AppointmentForm.vue';\r\n\r\nexport default {\r\n  components: { AppointmentForm },\r\n  data() {\r\n    return {\r\n      appointments: []\r\n    };\r\n  },\r\n  async created() {\r\n    this.fetchAppointments();\r\n  },\r\n  methods: {\r\n    doLogout() {\r\n      localStorage.removeItem('authToken');\r\n      this.$router.push('/login');\r\n    },\r\n    async fetchAppointments() {\r\n        try {\r\n            const response = await api.get('/appointments');\r\n            this.appointments = response.data;\r\n        } catch (error) {\r\n            alert('Sua sessão expirou. Por favor, faça o login novamente.');\r\n            this.doLogout();\r\n        }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dashboard-container { width: 100vw; }\r\n.dashboard-main { max-width: 800px; margin: 0 auto; padding-top: 100px; }\r\n.appointments-list ul { list-style: none; padding: 0; }\r\n.appointments-list li { background: white; padding: 15px; border-radius: 8px; margin-bottom: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; }\r\n.app-alert { color: #3b82f6; font-weight: bold; }\r\n</style>"],"mappings":";AAgCA,OAAOA,GAAE,MAAO,gBAAgB;AAChC,OAAOC,eAAc,MAAO,kCAAkC;AAE9D,eAAe;EACbC,UAAU,EAAE;IAAED;EAAgB,CAAC;EAC/BE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAG;MACTC,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;MACpC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IAC7B,CAAC;IACD,MAAMN,iBAAiBA,CAAA,EAAG;MACtB,IAAI;QACA,MAAMO,QAAO,GAAI,MAAMb,GAAG,CAACc,GAAG,CAAC,eAAe,CAAC;QAC/C,IAAI,CAACV,YAAW,GAAIS,QAAQ,CAACV,IAAI;MACrC,EAAE,OAAOY,KAAK,EAAE;QACZC,KAAK,CAAC,wDAAwD,CAAC;QAC/D,IAAI,CAACR,QAAQ,CAAC,CAAC;MACnB;IACJ;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}