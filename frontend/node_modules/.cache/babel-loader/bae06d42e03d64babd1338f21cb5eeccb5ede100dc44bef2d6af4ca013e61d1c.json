{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-header\"\n};\nconst _hoisted_3 = {\n  class: \"dashboard-main\"\n};\nconst _hoisted_4 = {\n  class: \"appointments-list\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  class: \"app-info\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"app-alert\"\n};\nconst _hoisted_8 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppointmentForm = _resolveComponent(\"AppointmentForm\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"header\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"Minha Clínica\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.doLogout && $options.doLogout(...args))\n  }, \"Sair\")]), _createElementVNode(\"main\", _hoisted_3, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", null, \"Painel de Agendamentos\", -1 /* CACHED */)), _createVNode(_component_AppointmentForm, {\n    onNewAppointment: $options.fetchAppointments\n  }, null, 8 /* PROPS */, [\"onNewAppointment\"]), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, \"Meus Agendamentos\", -1 /* CACHED */)), $data.appointments.length > 0 ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.appointments, app => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: app._id\n    }, [_createElementVNode(\"div\", _hoisted_6, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"Data:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(new Date(app.data).toLocaleString('pt-BR', {\n      dateStyle: 'short',\n      timeStyle: 'short'\n    })) + \" \", 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Descrição:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(app.descricao) + \" \", 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"Endereço:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(app.enderecoCompleto), 1 /* TEXT */)]), app.alertaDeChuva ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \" ☔️ Alerta: Possibilidade de chuva neste dia! \")) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"Você ainda não tem nenhum agendamento.\"))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","doLogout","_hoisted_3","_createVNode","_component_AppointmentForm","onNewAppointment","fetchAppointments","_hoisted_4","$data","appointments","length","_hoisted_5","_Fragment","_renderList","app","key","_id","_hoisted_6","_toDisplayString","Date","data","toLocaleString","dateStyle","timeStyle","descricao","enderecoCompleto","alertaDeChuva","_hoisted_7","_hoisted_8"],"sources":["C:\\Users\\rafae\\OneDrive\\Desktop\\clinica-inteligente\\frontend\\src\\views\\DashboardView.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <header class=\"dashboard-header\">\r\n      <h1>Minha Clínica</h1>\r\n      <button @click=\"doLogout\">Sair</button>\r\n    </header>\r\n    <main class=\"dashboard-main\">\r\n      <h2>Painel de Agendamentos</h2>\r\n      \r\n      <AppointmentForm @new-appointment=\"fetchAppointments\" />\r\n\r\n      <div class=\"appointments-list\">\r\n        <h3>Meus Agendamentos</h3>\r\n        <ul v-if=\"appointments.length > 0\">\r\n          <li v-for=\"app in appointments\" :key=\"app._id\">\r\n            <div class=\"app-info\">\r\n              <strong>Data:</strong> {{ new Date(app.data).toLocaleString('pt-BR', { dateStyle: 'short', timeStyle: 'short' }) }} <br>\r\n              <strong>Descrição:</strong> {{ app.descricao }} <br>\r\n              <strong>Endereço:</strong> {{ app.enderecoCompleto }}\r\n            </div>\r\n            <div v-if=\"app.alertaDeChuva\" class=\"app-alert\">\r\n              ☔️ Alerta: Possibilidade de chuva neste dia!\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>Você ainda não tem nenhum agendamento.</p>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api';\r\nimport AppointmentForm from '@/components/AppointmentForm.vue';\r\n\r\nexport default {\r\n  components: { AppointmentForm },\r\n  data() {\r\n    return {\r\n      appointments: []\r\n    };\r\n  },\r\n  async created() {\r\n    this.fetchAppointments();\r\n  },\r\n  methods: {\r\n    doLogout() {\r\n      localStorage.removeItem('authToken');\r\n      this.$router.push('/login');\r\n    },\r\n    async fetchAppointments() {\r\n        try {\r\n            const response = await api.get('/appointments');\r\n            this.appointments = response.data;\r\n        } catch (error) {\r\n            alert('Sua sessão expirou. Por favor, faça o login novamente.');\r\n            this.doLogout();\r\n        }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dashboard-container { width: 100vw; }\r\n.dashboard-main { max-width: 800px; margin: 0 auto; padding-top: 100px; }\r\n.appointments-list ul { list-style: none; padding: 0; }\r\n.appointments-list li { background: white; padding: 15px; border-radius: 8px; margin-bottom: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; }\r\n.app-alert { color: #3b82f6; font-weight: bold; }\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAqB;;EACtBA,KAAK,EAAC;AAAkB;;EAI1BA,KAAK,EAAC;AAAgB;;EAKrBA,KAAK,EAAC;AAAmB;;;;;EAInBA,KAAK,EAAC;AAAU;;;EAKSA,KAAK,EAAC;;;;;;;uBAnB9CC,mBAAA,CA2BM,OA3BNC,UA2BM,GA1BJC,mBAAA,CAGS,UAHTC,UAGS,G,0BAFPD,mBAAA,CAAsB,YAAlB,eAAa,qBACjBA,mBAAA,CAAuC;IAA9BE,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAF,IAAA,CAAQ;KAAE,MAAI,E,GAEhCJ,mBAAA,CAqBO,QArBPO,UAqBO,G,0BApBLP,mBAAA,CAA+B,YAA3B,wBAAsB,qBAE1BQ,YAAA,CAAwDC,0BAAA;IAAtCC,gBAAe,EAAEL,QAAA,CAAAM;EAAiB,+CAEpDX,mBAAA,CAeM,OAfNY,UAeM,G,0BAdJZ,mBAAA,CAA0B,YAAtB,mBAAiB,qBACXa,KAAA,CAAAC,YAAY,CAACC,MAAM,Q,cAA7BjB,mBAAA,CAWK,MAAAkB,UAAA,I,kBAVHlB,mBAAA,CASKmB,SAAA,QAAAC,WAAA,CATaL,KAAA,CAAAC,YAAY,EAAnBK,GAAG;yBAAdrB,mBAAA,CASK;MAT4BsB,GAAG,EAAED,GAAG,CAACE;QACxCrB,mBAAA,CAIM,OAJNsB,UAIM,G,0BAHJtB,mBAAA,CAAsB,gBAAd,OAAK,qB,iBAAS,GAAC,GAAAuB,gBAAA,KAAOC,IAAI,CAACL,GAAG,CAACM,IAAI,EAAEC,cAAc;MAAAC,SAAA;MAAAC,SAAA;IAAA,MAAwD,GAAC,iB,0BAAA5B,mBAAA,CAAI,qC,0BACxHA,mBAAA,CAA2B,gBAAnB,YAAU,qB,iBAAS,GAAC,GAAAuB,gBAAA,CAAGJ,GAAG,CAACU,SAAS,IAAG,GAAC,iB,0BAAA7B,mBAAA,CAAI,qC,0BACpDA,mBAAA,CAA0B,gBAAlB,WAAS,qB,iBAAS,GAAC,GAAAuB,gBAAA,CAAGJ,GAAG,CAACW,gBAAgB,iB,GAEzCX,GAAG,CAACY,aAAa,I,cAA5BjC,mBAAA,CAEM,OAFNkC,UAEM,EAF0C,gDAEhD,K;qDAGJlC,mBAAA,CAAoD,KAAAmC,UAAA,EAA1C,wCAAsC,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}